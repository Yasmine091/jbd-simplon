{% extends "base.html" %}

{% block title %}
Modification d'une note
{% endblock %}

{% block content %}
<form method="POST" action="">
    <div class="card border-0 mx-auto" style="max-width: 50rem; width: 100%;">
        <div class="card-body">
            {% csrf_token %}
            <div class="form d-flex flex-column-reverse flex-sm-row justify-content-between">

                <h5 class="card-title fw-bold m-1">Modifier une note</h5>
                <p>
                    <button type="submit" class="btn btn-primary fw-bold">Enregistrer</i></button>
                </p>
            </div>
            <p class="card-text">
            <p class="text-muted fw-bold m-0"><i class="fas fa-graduation-cap me-1 d-inline"></i>
                <select name="student" size=1 class="form-control d-inline" required="" id="id_student"
                    style="width: auto;" multiple>
                    <option value="" disabled>-- Veuillez choisir un apprenant --</option>
                    {% for student in students %}
                    {% if student.id in chosen %}
                    <option value="{{ student.id }}" selected>
                        {% else %}
                    <option value="{{ student.id }}">
                        {% endif %}
                        {{ student.lastname }}
                        {{ student.firstname }}
                    </option>
                    {% endfor %}
                </select>


            </p>
            </p>
            <p class="card-text text-dark fw-bold"><i class="fas fa-info-circle me-1 d-inline"></i>
                <input type="text" name="subject" class="form-control d-inline" maxlength="50" required=""
                    id="id_subject" style="width: auto;" value="{{note.subject}}">
            </p>
            <p class="card-text text-dark">
                <textarea name="note" cols="40" rows="10" class="form-control" maxlength="3000" required=""
                    id="id_note">{{ note.note }}</textarea>
            </p>
            <hr />
            <div class="form d-flex flex-column-reverse flex-sm-row justify-content-between mb-0">
                <p class="text-muted fw-bold mb-0"><i class="fas fa-user me-1"></i>{{note.author}}</p>
                <p class="text-muted fw-bold mb-0">
                    <i class="far fa-calendar-alt me-1 d-inline"></i><input type="date" name="date"
                        value="{{ note.date|date:'Y-m-d' }}" class="date-input d-inline" required="" id="id_date">
                </p>
            </div>
        </div>
    </div>
</form>
{% endblock %}